<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Usine logicielle à l'UNC</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/unc.css" id="theme">
		
		<link rel="stylesheet" href="plugin/highlight/monokai.css" id="highlight-theme">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<span id="title">L'usine logicielle de l'UNC</span>
				<img src="assets/unc.svg" id="logo" />

				<section>
					<h1>L'usine logicielle de l'UNC</h1>
					<div class="center">
						<img src="assets/loading.png"/>
					</div>
					<p class="right">
						<small>Par Arnaud Brunet</small>
					</p>
				</section>

				<section>
					<h1>Qui est Arnaud Brunet ?</h1>
					<ul>
						<li>Ingénieur d'études en déploiement, développement et administration d’applications de gestion</li>
						<li>à la <abbr title="Direction du Numérique et des Systèmes d'Information">DNSI</abbr> de l'UNC <small>(<a href="mailto:arnaud.brunet@unc.nc">arnaud.brunet@unc.nc)</small></a></li>
						<li>Meetups:
							<ul>
								<li><a href="https://www.meetup.com/fr-FR/Docker-Noumea/">Docker Nouméa</a></li>
								<li><a href="https://www.meetup.com/fr-FR/JavaScript-Nouvelle-Caledonie/">Javascript Nouvelle-Calédonie</a></li>
							</ul>
						</li>
						<li>Association Logiciels Libres <small>(<a href="https://apull.asso.nc">apull.asso.nc</a>)</small></li>
						<li>Site Internet <small>(<a href="https://gronono.fr">gronono.fr</a>)</small></li>
					</ul>
				</section>

				<section>
					<h1>Organisation de la DNSI</h1>
					<ul>
						<li>Trois pôles
							<ul>
								<li>Assistance <small>911@unc.nc</small></li>
								<li>Système et réseau</li>
								<li>Infogestion <small>dsi-infogestion@unc.nc</small></li>
							</ul>
						</li>
						<li>Carte Sup' : cartesup@unc.nc</li>
						<li>Questions pédagogies : SP ou RP</li>
					</ul>
				</section>

				<section>
					<h1>Usine logicielle ?</h1>
					<img src="assets/factory.png" width="90%" />
					<p class="left">Repose sur 4 pilliers :</p>
					<ul>
						<li>Git & Gitlab</li>
						<li>Gitlab-CI</li>
						<li>Docker</li>
						<li>Kubernetes</li>
					</ul>
				</section>

				<section>
					<h1>La porte d'entrée : Git & Gitlab</h1>
					<ul>
						<li>Travail en équipe</li>
						<li>Historique</li>
						<li>Source de vérité</li>
					</ul>
					<img src="assets/Branch_full.svg" width="80%"/>
				</section>

				<section>
					<h1>L'automate : Gitlab-CI</h1>
					<ul>
						<li>Découpage en étapes : les stages</li>
						<li>Scripting à chaque stages</li>
						<li>Chaque stage s'execute dans un environnement cloisonné</li>
					</ul>
					<img src="assets/ci-cd-test-deploy-illustration_2x.png" width="70%"/>
				</section>

				<section>
					<h1>Le cloisonnement : Docker</h1>
					<ul>
						<li>Recette de création d'un environnement : les images</li>
						<li>Chaque environnement (container) est isolé de l'hôte</li>
					</ul>
					<img src="assets/docker1.png" width="80%"/>
				</section>

				<section>
					<h1>Le chef d'orchestre : Kubernetes</h1>
					<ul>
						<li>Gère les containers sur plusieurs serveurs</li>
						<li>Paradigme déclaratif <small>(yaml)</small></li>
					</ul>
					<img src="assets/guide-k8s-1-overview.png" width="90%"/>
				</section>

				<section>
					<h1>Le petit dernier : Flux</h1>
					<ul>
						<li>Déclaration du cluster dans GIT</li>
						<li>Synchro Git / K8S</li>
					</ul>
					<img src="assets/flux-gitops.png" width="90%"/>
				</section>

				<section>
					<h1>Le nouveau né : Prometheus</h1>
					<ul>
						<li>Système de monitoring</li>
						<li>Système d'alertes</li>
					</ul>
					<img src="assets/monitoring.png" width="80%" />
				</section>

				<section>
					<h1>Les avantages de l'usine</h1>
					<ul>
						<li>Lien entre l'application déployée et le code source</li>
						<li>Le code déployé passe les tests automatisés</li>
						<li>Les environnements de compilation et d'execution sont auto-documentés</li>
						<li>Si l'application plante, elle est automatiquement relancée</li>
						<li>Si un serveur plante, l'application est migrée sur un autre serveur</li>
						<li>Monitoring / système d'alertes</li>
					</ul>
				</section>

				<section>
					<h1>Le workflow de l'usine</h1>
					<img src="assets/workflow.png" width="90%" />
				</section>

				<section>
					<h1>Demonstration</h1>
					<ul>
						<li>Modification d'un projet simple</li>
						<li>Configuration locale vs configuration déployée</li>
						<li>Sur le push : compilation + déploiement en intégration</li>
						<li>Sur un tag : création d'une release</li>
						<li>Action manuelle : déploiement en test</li>
						<li>Plantage de l'application</li>
						<li>Monitoring</li>
					</ul>
				</section>

				<section>
					<h1>Kubernetes en production</h1>
					<ul>
						<li>en place depuis juin 2019</li>
						<li>montée en compétences progressives</li>
						<li>15 applications dont 6 métiers</li>
						<li>réparties sur 3 noeuds</li>
						<li>un peu moins 40 Go de données</li>
					</ul>
				</section>

				<section>
					<h1>L'avenir</h1>
					<ul>
						<li>Intégration des applications Cocktail</li>
						<li>Intégration des applications PHP : ENT, Moddle, GroupeNotes, ...</li>
						<li>Meilleur solution de stockage basée sur VMWare</li>
					</ul>
				</section>

				<section>
					<h1>Questions ?</h1>
					<div class="center">
						<img src="assets/questions.jpg">
					</div>
				</section>

				<section>
					<h1>Merci</h1>
					<ul>
						<li><a href="https://github.com/unc-dsi/presentation-usine-logicielle">https://github.com/unc-dsi/presentation-usine-logicielle</a></li>
						<li>arnaud.brunet@unc.nc</li>
					</ul>
				</section>
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			Reveal.initialize({
				hash: true,
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
